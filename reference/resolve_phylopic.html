<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function takes a supplied taxonomic name, queries it via the specified
external API, resolves the API's returned taxonomic ID to the PhyloPic
taxonomic node database, then retrieves PhyloPic image uuids (or urls) for
that node."><title>Use a taxonomic name from another database to get a PhyloPic image UUID — resolve_phylopic • rphylopic</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Use a taxonomic name from another database to get a PhyloPic image UUID — resolve_phylopic"><meta property="og:description" content="This function takes a supplied taxonomic name, queries it via the specified
external API, resolves the API's returned taxonomic ID to the PhyloPic
taxonomic node database, then retrieves PhyloPic image uuids (or urls) for
that node."><meta property="og:image" content="https://rphylopic.palaeoverse.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rphylopic</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/a-getting-started.html">Getting started with rphylopic</a>
    <a class="dropdown-item" href="../articles/b-advanced-ggplot.html">Advanced examples in ggplot</a>
    <a class="dropdown-item" href="../articles/c-advanced-base.html">Advanced examples in base R</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/palaeoverse-community/rphylopic/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Use a taxonomic name from another database to get a PhyloPic image UUID</h1>
      <small class="dont-index">Source: <a href="https://github.com/palaeoverse-community/rphylopic/blob/HEAD/R/resolve_phylopic.R" class="external-link"><code>R/resolve_phylopic.R</code></a></small>
      <div class="d-none name"><code>resolve_phylopic.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes a supplied taxonomic name, queries it via the specified
external API, resolves the API's returned taxonomic ID to the PhyloPic
taxonomic node database, then retrieves PhyloPic image uuids (or urls) for
that node.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">resolve_phylopic</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  api <span class="op">=</span> <span class="st">"gbif.org"</span>,</span>
<span>  hierarchy <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  max_ranks <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  url <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>name</dt>
<dd><p><code>character</code>. A full or partial taxonomic name to be queried
via the specified <code>api</code>.</p></dd>


<dt>api</dt>
<dd><p><code>character</code>. The API in which to query <code>name</code>. See Details
for the available options.</p></dd>


<dt>hierarchy</dt>
<dd><p><code>logical</code>. Whether the taxonomic hierarchy of <code>name</code>
should be retrieved from the API and used to get several sets of PhyloPic
image uuids (or urls).</p></dd>


<dt>max_ranks</dt>
<dd><p><code>numeric</code>. The maximum number of taxonomic ranks that
should be included if <code>hierarchy</code> is <code>TRUE</code>.</p></dd>


<dt>n</dt>
<dd><p><code>numeric</code>. How many uuids should be returned? Depending on
the requested <code>name</code>, multiple silhouettes might exist. If <code>n</code> exceeds
the number of available images, all available uuids will be returned.
This argument defaults to 1.</p></dd>


<dt>filter</dt>
<dd><p><code>character</code>. Filter uuid(s) by usage license. Use "by" to
limit results to image uuids which do not require attribution, "nc" for
image uuids which allow commercial usage, and "sa" for image uuids without
a ShareAlike clause. The user can also combine these filters as a vector.</p></dd>


<dt>url</dt>
<dd><p><code>logical</code>. If <code>FALSE</code> (default), only the uuid is
returned. If <code>TRUE</code>, a valid PhyloPic image url of the uuid is
returned.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>list</code> where each value is <code>n</code> (or fewer) PhyloPic image uuids (or
urls if <code>url = TRUE</code>) and each name is the taxonomic name as matched and
reported by the specified <code>api</code>. If <code>hierarchy</code> is <code>FALSE</code>, the list has
length 1. If <code>hierarchy</code> is <code>TRUE</code>, the list has maximum length
<code>max_ranks</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>hierarchy</code> is <code>FALSE</code>, the specified <code>name</code> is queried via the
specified <code>api</code>. The matched id is then resolved to the matching taxonomic
node in the PhyloPic database. If <code>hierarchy</code> is <code>TRUE</code>, the full taxonomic
hierarchy for <code>name</code> is retrieved from the specified <code>api</code>, those taxonomic
names are subset to <code>max_ranks</code> ranks (starting from the specified <code>name</code>
and ascending the hierarchy). Then each of those names is resolved to the
matching taxonomic node in the PhyloPic database (where possible). In
either case, <code><a href="get_uuid.html">get_uuid()</a></code> is then used to retrieve <code>n</code> image UUID(s) for
each taxonomic name.</p>
<p>Note that while the names of the returned list are the taxonomic names as
reported by the specified <code>api</code>, the PhyloPic images that are returned are
associated with whatever taxonomic node that taxonomic name resolves to in
the PhyloPic database. This means that, if <code>hierarchy</code> is <code>TRUE</code>, the same
images may be returned for multiple taxonomic names. Also, if a particular
taxonomic name does not resolve to any node in the PhyloPic database, no
images will be returned for that name.</p>
<p>The following APIs are available for querying (<code>api</code>):</p><ul><li><p>"eol.org": the <a href="https://eol.org/" class="external-link">Encyclopedia of Life</a>
(note: <code>hierarchy = TRUE</code> is not currently available for this API) ("eol"
is also allowed)</p></li>
<li><p>"gbif.org": the <a href="https://www.gbif.org/" class="external-link">Global Biodiversity
Information Facility</a> ("gbif" is also allowed)</p></li>
<li><p>"marinespecies.org": the <a href="https://marinespecies.org/" class="external-link">World
Registor of Marine Species</a> ("worms" is also allowed)</p></li>
<li><p>"opentreeoflife.org": the <a href="https://tree.opentreeoflife.org/" class="external-link">
Open Tree of Life</a> ("otol" is also allowed)</p></li>
<li><p>"paleobiodb.org": the <a href="https://paleobiodb.org/#/" class="external-link">Paleobiology
Database</a> ("pbdb" is also allowed)</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># get a uuid for a single name</span></span></span>
<span class="r-in"><span><span class="fu">resolve_phylopic</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Canis lupus"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># get uuids for the taxonomic hierarchy</span></span></span>
<span class="r-in"><span><span class="fu">resolve_phylopic</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Velociraptor mongoliensis"</span>, api <span class="op">=</span> <span class="st">"paleobiodb.org"</span>,</span></span>
<span class="r-in"><span>                 hierarchy <span class="op">=</span> <span class="cn">TRUE</span>, max_ranks <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://williamgearty.com" class="external-link">William Gearty</a>, <a href="https://www.lewisajones.com" class="external-link">Lewis A. Jones</a>, Scott Chamberlain.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

